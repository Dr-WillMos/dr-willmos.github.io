

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><style type="text/css">.douban-card-block {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    max-height: 400px;
}

.douban-card {
    display: flex;
    margin: 30px 10px;
    padding: 15px;
    border-radius: 15px;
    position: relative;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    color: antiquewhite;
    text-decoration: none;
}

.douban-card:hover {
    text-decoration: none;
}

.douban-card-bgimg {
    position: absolute;
    width: 115%;
    height: 115%;
    filter: blur(15px) brightness(0.6);
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-img {
    position: relative;
    height: 130px;
    width: 80px;
    background-size: 100%;
    background-position: center;
    background-repeat: no-repeat;
}

.douban-card-left:hover .douban-card-img {
    filter: blur(5px) brightness(0.6);
    transform: perspective(800px) rotateX(180deg);
}

.douban-card-left .douban-card-img {
    transition: all 500ms ease;
}

.douban-card-left {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.douban-card-left .douban-card-status {
    height: 130px;
    width: 80px;
    text-align: center;
    font-weight: bold;
    position: absolute;
    left: 0;
    top: 30%;
    transform: rotateX(180deg);
    backface-visibility: hidden;
    transition: all 500ms ease;
}

.douban-card-left:hover .douban-card-status {
    transform: perspective(800px) rotateX(0deg);
}

.douban-card-right {
    position: relative;
    display: flex;
    flex-direction: column;
    margin-left: 12px;
    font-size: 16px;
    font-family: "Courier New", Courier, monospace;
    line-height: 1.3;
    color: antiquewhite;
}

.douban-card-item {
    margin-top: 4px;
}
</style><!-- hexo injector head_begin end -->
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://s3.bmp.ovh/imgs/2022/07/21/9d7051f1f6380bec.png">
  <link rel="icon" href="https://s3.bmp.ovh/imgs/2022/07/21/9d7051f1f6380bec.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="数据库在网络开发中，大量的用户数据必须存储在网页后端，为此，数据库为我们提供了支持。数据库类似于Excel表格，允许我们以高度结构化的形式存储用户数据并能够与程序产生交互。 数据库分为关系型数据库和非关系型数据库，关系型数据库是基于关系模型来存储和管理数据的数据库系统。关系就是基于表格的数据模型，它使用行和列来表示数据，并通过主键和外键来定义表之间的关系。而非关系型数据库则不强制要求使用关系模型来">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库">
<meta property="og:url" content="http://example.com/posts/Mysql/index.html">
<meta property="og:site_name" content="WillMo">
<meta property="og:description" content="数据库在网络开发中，大量的用户数据必须存储在网页后端，为此，数据库为我们提供了支持。数据库类似于Excel表格，允许我们以高度结构化的形式存储用户数据并能够与程序产生交互。 数据库分为关系型数据库和非关系型数据库，关系型数据库是基于关系模型来存储和管理数据的数据库系统。关系就是基于表格的数据模型，它使用行和列来表示数据，并通过主键和外键来定义表之间的关系。而非关系型数据库则不强制要求使用关系模型来">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s21.ax1x.com/2025/10/23/pVXFtS0.png">
<meta property="article:published_time" content="2025-10-23T06:35:23.253Z">
<meta property="article:modified_time" content="2025-10-23T06:46:57.438Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="网络工程">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s21.ax1x.com/2025/10/23/pVXFtS0.png">
  
  
  
  <title>数据库 - WillMo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/fluid-extension.css">
<link rel="stylesheet" href="/css/custom.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_ijqayz9ro8k.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":80,"cursorChar":"_","loop":true,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""],"_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":"1ec3a98f56fb1a02dc9d1d547938a1da","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":21411813,"cnzz":null,"leancloud":{"app_id":"IRSLghqK5TgDLPVQvHP7CDVQ-gzGzoHsz","app_key":"EDZJI99CBPVdQKIIiwWO7jNU","server_url":"https://irslghqk.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  
    <!-- Baidu Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?1ec3a98f56fb1a02dc9d1d547938a1da";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
      }
    </script>
  

  

  

  

  
    <!-- 51.la Analytics -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript('//js.users.51.la/21411813.js');
      }
    </script>
  

  

  
    
  



  
<meta name="generator" content="Hexo 6.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>WillMo&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://willmo-personal.netlify.app/">
                <i class="iconfont icon-codepen-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                博客
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/book/">
                <i class="iconfont icon-books"></i>
                书单
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/talks/">
                <i class="iconfont icon-comment"></i>
                碎语
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/photos/">
                <i class="iconfont icon-image"></i>
                相册
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://s21.ax1x.com/2025/10/23/pVXFtS0.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="数据库"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-23 06:35" pubdate>
          2025年10月23日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8.2k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          69 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">数据库</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>在网络开发中，大量的用户数据必须存储在<code>网页后端</code>，为此，数据库为我们提供了支持。数据库类似于Excel表格，允许我们以高度结构化的形式存储用户数据并能够与程序产生交互。</p>
<p>数据库分为<strong>关系型数据库</strong>和<strong>非关系型数据库</strong>，关系型数据库是基于关系模型来存储和管理数据的数据库系统。关系就是基于表格的数据模型，它使用行和列来表示数据，并通过主键和外键来定义表之间的关系。而非关系型数据库则不强制要求使用关系模型来存储数据，这一点是倒是更灵活。</p>
<p>目前主流的关系型数据库有：<code>Mysql</code>，<code>Sql Server</code>，<code>Oracle</code>，<code>DB2</code>，<code>DM达梦</code>。</p>
<p>我们以最广泛的开源数据库<code>Mysql</code>展开讨论。</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>下载地址：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p>
<p>安装过程中需要设置用户，建议设置一个管理员用户和一个普通用户，我个人习惯是管理员用户名和密码都是root，期间安装程序会提醒你输入原有已经输入的密码，安装过程才能继续。</p>
<p>完成后，我们就能够通过命令行来使用数据库，但这很麻烦，毕竟在计算机性能发达的今天，图形化才是趋势。</p>
<h2 id="DBeaver"><a href="#DBeaver" class="headerlink" title="DBeaver"></a>DBeaver</h2><p>下载地址：<a target="_blank" rel="noopener" href="https://dbeaver.io/download/">https://dbeaver.io/download/</a></p>
<p>安装过程略过</p>
<p>安装完成后创建连接：</p>
<p><img src="https://s2.loli.net/2025/10/22/L59GUItEfFzHSOm.webp" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>然后你就能在DBeaver中操作数据库的表了。</p>
<p>但是，这一类可视化图形工具起到的作用只是简化操作，帮我们输入并执行SQL语句而已，作为开发人员我们需要具备使用命令行实现增删改查的能力。</p>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><p>SQL语句不是像java一样的命令式编程语言，而是<strong>声明式编程语言</strong>，就和开源项目的命令行使用方法类似。</p>
<p>这一部分不会比我们之前学习的java难，放松。</p>
<p>SQL语句适用于大多数关系型数据库，是统一操作语言，但某些关系型数据库在语法解析上可能有细微差别，你可以理解成编译器不同导致的输出不同。SQL语句和根据数据库不同特征化的语句可以理解为是普通话和方言一样。</p>
<h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><h2 id="常见概念"><a href="#常见概念" class="headerlink" title="常见概念"></a>常见概念</h2><ul>
<li>数据库 (Database)</li>
</ul>
<p>一个存储数据的仓库，可以包含多个表，用于组织和管理大量结构化数据。</p>
<ul>
<li>表 (Table)</li>
</ul>
<p>数据库中的一种数据结构，由行和列组成，用于存储特定类型的数据（如用户表、订单表）。</p>
<ul>
<li>列名 (Column Name)</li>
</ul>
<p>表中的每一列都有一个名称，用于标识该列存储的数据（如 username、age）。</p>
<ul>
<li>数据类型 (Data Type)</li>
</ul>
<p>定义列中数据的类型，如整数 (INT)、字符串 (VARCHAR)、日期 (DATE) 等。</p>
<ul>
<li>自增 (Auto Increment)</li>
</ul>
<p>一种属性，通常用于主键列，每次插入新数据时自动递增（如 1, 2, 3…）。</p>
<ul>
<li>非空 (NOT NULL)</li>
</ul>
<p>一种约束，确保列中不能存储空值（必须填写数据）。</p>
<ul>
<li>唯一 (UNIQUE)</li>
</ul>
<p>一种约束，确保列中的值不能重复（但允许空值）。</p>
<ul>
<li>主键 (Primary Key)</li>
</ul>
<p>一种唯一且非空的列（或列组合），用于唯一标识表中的每一行。</p>
<ul>
<li>外键 (Foreign Key)</li>
</ul>
<p>一种列，用于关联另一张表的主键，确保数据的一致性和完整性。</p>
<ul>
<li>默认值 (Default Value)</li>
</ul>
<p>如果插入数据时未指定值，列将自动填充的预设值（如 DEFAULT 0）。</p>
<ul>
<li>注释 (Comment)</li>
</ul>
<p>对表、列或索引的说明，用于帮助理解其用途（如 COMMENT ‘用户姓名’）。</p>
<ul>
<li>索引 (Index)</li>
</ul>
<p>一种数据结构，用于加快数据检索速度（类似于书的目录），但会增加写入数据的开销。</p>
<p><strong>总结一下，数据库包含表，表又包含列和行，其中列起到锚定作用，自增，唯一，主键，外键，都是列的属性或者类型，行起到保存数据作用，行和列围成的格子中存放的原子数据又包含了不同的数据类型。</strong></p>
<h3 id="SQL的分类"><a href="#SQL的分类" class="headerlink" title="SQL的分类"></a><strong>SQL的分类</strong></h3><ol>
<li><strong>DDL（Data Definition Language，数据定义语言）</strong>：用于创建、修改和删除数据库中的各种对象，如表、索引、视图、触发器等。常见的DDL命令包括CREATE（创建）、ALTER（修改）和DROP（删除）。例如，CREATE TABLE用于创建新的数据库表，ALTER TABLE用于修改表的结构，DROP TABLE则用于删除表。</li>
<li><strong>DML（Data Manipulation Language，数据操纵语言）</strong>：允许用户对数据库中的数据进行基本操作，如插入、更新、删除和查询数据记录。常见的DML命令有INSERT（插入）、UPDATE（更新）、DELETE（删除）和SELECT（查询）。其中，SELECT是SQL语言的基础，用于从数据库中检索数据。</li>
<li><strong>DQL（Data Query Language，数据查询语言）</strong>：主要用于从数据库中检索数据，其核心指令是SELECT。DQL是DML的一个子集，专注于数据查询操作。</li>
<li><strong>DCL（Data Control Language，数据控制语言）</strong>：用于控制数据库用户访问权限和安全性的语言。DCL包括授予和撤销用户权限的命令，以及管理数据库对象的权限。常见的DCL命令有GRANT（授予）和REVOKE（撤销）。通过DCL，数据库管理员可以设定哪些用户有权访问哪些数据库对象，以及他们可以进行哪些操作。</li>
<li><strong>TCL（Transaction Control Language，事务控制语言）</strong>：用于管理事务的语言，包括开始事务、提交事务、回滚事务等命令。常见的TCL命令有BEGIN（开始事务）、COMMIT（提交事务）和ROLLBACK（回滚事务）。TCL在快速原型开发、脚本编程、GUI和测试等方面非常有用，它允许将一系列操作组合为一个逻辑事务，从而确保数据的完整性和一致性。</li>
</ol>
<h1 id="命令行操作"><a href="#命令行操作" class="headerlink" title="命令行操作"></a>命令行操作</h1><h3 id="创建数据库和表"><a href="#创建数据库和表" class="headerlink" title="创建数据库和表"></a>创建数据库和表</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> DateBase [数据库名]；<br></code></pre></td></tr></tbody></table></figure>

<p>例如：创建名为<code>willmo</code>的数据库</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> datebase willmo;<br></code></pre></td></tr></tbody></table></figure>

<p>SQL语句对关键字大小写不敏感，但是对名称等标识敏感。</p>
<p>其他的参考java的编程语言书写规范就可以了。</p>
<p>你可以在图形化软件操作后查看操作对应的sql语句,例如在创建表的同时新建列，并列出列的属性：</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 表名 (<br>    列名<span class="hljs-number">1</span> 数据类型 [约束条件],<br>    列名<span class="hljs-number">2</span> 数据类型 [约束条件],<br>    ...<br>    [表级约束]<br>);<br></code></pre></td></tr></tbody></table></figure>

<p>例如：</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> willmo.test (           <span class="hljs-comment">--这里是全限定表名，提及了数据库名willmo，如果选中了数据库就不用提及数据库名，这和绝对路径和相对路径是一个道理。</span><br>  id <span class="hljs-type">INT</span> auto_increment <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'id'</span>,  <span class="hljs-comment">--列名为id,属性是自增非空，数据类型是INT整型</span><br>  name <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'姓名'</span>,<span class="hljs-comment">--列名为name,属性是非空，别名为“姓名”，数据类型字符串</span><br>  <span class="hljs-keyword">CONSTRAINT</span> test_pk <span class="hljs-keyword">PRIMARY</span> KEY (id     <span class="hljs-comment">--设置id为主键，也就是起唯一标识作用的列</span><br>)<br>ENGINE<span class="hljs-operator">=</span>InnoDB                            <span class="hljs-comment">--指定引擎</span><br><span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4;                 <span class="hljs-comment">--指定字符集，utf8mb4相较于utf8他能够存储表情</span><br></code></pre></td></tr></tbody></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>在MySQL中，为列选择合适的数据类型至关重要，因为它直接影响到数据的存储效率、查询性能以及数据的完整性。以下是根据数据类型和用途给出的一些推荐：</p>
<h6 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h6><ol>
<li><strong>整数类型</strong></li>
</ol>
<ul>
<li><strong>TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT</strong>：根据数值的范围选择合适的大小。例如，如果确定数值不会超过255，那么使用TINYINT可以节省存储空间。</li>
<li><strong>UNSIGNED</strong>：如果数值不需要负数，使用UNSIGNED属性可以将正数的范围扩大一倍。</li>
<li><strong>AUTO_INCREMENT</strong>：如果需要自动生成唯一的标识符，可以在主键列上使用AUTO_INCREMENT属性。</li>
</ul>
<ol>
<li><strong>浮点数类型</strong></li>
</ol>
<ul>
<li><strong>FLOAT、DOUBLE</strong>：用于存储近似数值。FLOAT占用4个字节，DOUBLE占用8个字节。如果需要更高的精度，可以选择DOUBLE。</li>
<li><strong>DECIMAL</strong>：用于存储精确数值，如金融计算。DECIMAL类型可以指定小数点前后的位数，如DECIMAL(10,2)表示总共10位数字，其中小数点后有2位。</li>
</ul>
<h6 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h6><ol>
<li><strong>CHAR</strong></li>
</ol>
<ul>
<li>用于存储固定长度的字符串。如果字符串长度几乎相同，或者长度很短且变更不频繁，CHAR是更好的选择。</li>
<li>CHAR类型会删除字符串末尾的空格，并根据需要填充空格以方便比较。</li>
</ul>
<ol>
<li><strong>VARCHAR</strong></li>
</ol>
<ul>
<li>用于存储可变长度的字符串。VARCHAR类型仅使用必要的空间，因此比CHAR更节省空间。</li>
<li>当字符串列的最大长度远大于平均长度时，或者字符串经常更新时，VARCHAR是更好的选择。</li>
</ul>
<ol>
<li><strong>TEXT类型</strong></li>
</ol>
<ul>
<li>用于存储大文本数据。TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT分别可以存储不同大小的数据。</li>
<li>如果需要存储非常大的文本数据，可以选择LONGTEXT。</li>
</ul>
<h6 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h6><ol>
<li><strong>DATE</strong>：用于存储日期值，格式为YYYY-MM-DD。</li>
<li><strong>TIME</strong>：用于存储时间值，格式为HH:MM:SS。</li>
<li><strong>DATETIME</strong>：用于存储日期和时间值，格式为YYYY-MM-DD HH:MM:SS。</li>
<li><strong>TIMESTAMP</strong>：用于存储UNIX时间戳，表示从1970年1月1日以来的秒数。TIMESTAMP值依赖于时区设置。</li>
</ol>
<h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><p>查询我们使用这个格式：</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> 字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span>,... <span class="hljs-keyword">from</span> 表名;<br></code></pre></td></tr></tbody></table></figure>

<p>当然你也可以使用通配符<code>*</code>，虽然这么做可能引发性能问题。</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> 表名;<br></code></pre></td></tr></tbody></table></figure>

<p>使用<code>select</code>能够找出相应列，但是我们需要使用<code>where</code>来实现条件查询</p>
<p>比如：</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employees <br><span class="hljs-keyword">WHERE</span> salary <span class="hljs-operator">&gt;</span> <span class="hljs-number">5000</span>;     <span class="hljs-comment">--找出5000块工资以上的职员</span><br><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'Electronics'</span>    <span class="hljs-comment">--找出电子类和1000块以下的产品</span><br><span class="hljs-keyword">AND</span> price <span class="hljs-operator">&lt;</span> <span class="hljs-number">1000</span>;<br></code></pre></td></tr></tbody></table></figure>

<p>查询条件：</p>
<ul>
<li><code>=</code>, <code>&lt;&gt;</code>/<code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code></li>
<li>BETWEEN … AND …<ul>
<li>意思是查找区间范围的数据，如找12-19的数据可以是<code>select number from  num Between 12 and 19</code></li>
</ul>
</li>
<li>LIKE（配合%和_使用）<ul>
<li>LIKE是模糊查询，如果你想找张某某，你可以查询<code>select name from user LIKE "张%";</code></li>
</ul>
</li>
<li>IN (值列表)，比如<code>IN 12,13,15,16</code>;</li>
</ul>
<h4 id="排列"><a href="#排列" class="headerlink" title="排列"></a>排列</h4><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 按工资降序排列</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employees<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> salary <span class="hljs-keyword">DESC</span>;<br><br><span class="hljs-comment">-- 获取前10条记录（不同数据库语法可能不同）</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products<br>LIMIT <span class="hljs-number">10</span>;<br></code></pre></td></tr></tbody></table></figure>

<p><code>asc</code>是顺序排序，<code>desc</code>是逆向排序。</p>
<h4 id="聚合查询"><a href="#聚合查询" class="headerlink" title="聚合查询"></a>聚合查询</h4><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <br>    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> total_employees,   <span class="hljs-comment">--输出全体职员的数量</span><br>      <span class="hljs-built_in">SUM</span>(salary) <span class="hljs-keyword">AS</span> sum_salary,   <span class="hljs-comment">--求薪水之和</span><br>    <span class="hljs-built_in">AVG</span>(salary) <span class="hljs-keyword">AS</span> average_salary, <span class="hljs-comment">--使用关键字计算平均薪水</span><br>    <span class="hljs-built_in">MAX</span>(salary) <span class="hljs-keyword">AS</span> max_salary,<br>    <span class="hljs-built_in">MIN</span>(salary) <span class="hljs-keyword">AS</span> min_salary<br><span class="hljs-keyword">FROM</span> employees;<br></code></pre></td></tr></tbody></table></figure>

<p>你可以使用<code>having</code>语句和<code>group by </code>语句来实现对某一群体进行聚合查询和计算</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> department, <span class="hljs-built_in">AVG</span>(salary)<br><span class="hljs-keyword">FROM</span> employees<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> department<br><span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">AVG</span>(salary) <span class="hljs-operator">&gt;</span> <span class="hljs-number">6000</span>;   <span class="hljs-comment">--计算所以6000薪资以上的职员的平均工资</span><br></code></pre></td></tr></tbody></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><p>你一定能够注意到，查询的结果返回的也是一个表，那么我们就能够对返回表再做一次查询。</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">WHERE</span> price <span class="hljs-operator">&gt;</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(price) <span class="hljs-keyword">FROM</span> products);    <span class="hljs-comment">--查询出高于产品平均价的那一批产品</span><br></code></pre></td></tr></tbody></table></figure>

<h4 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h4><p>使用<code>INSERT</code>关键字来实现</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 表名 (字段<span class="hljs-number">1</span>, 字段<span class="hljs-number">2</span>, ..., 字段N)<br><span class="hljs-keyword">VALUES</span> (值<span class="hljs-number">1</span>, 值<span class="hljs-number">2</span>, ..., 值N);<br></code></pre></td></tr></tbody></table></figure>

<p>如果你向插入一行完整的数据，就可以省略字段</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 表名 <span class="hljs-keyword">VALUES</span> (值<span class="hljs-number">1</span>, 值<span class="hljs-number">2</span>, ..., 值N);   <span class="hljs-comment">--确保只有N列</span><br></code></pre></td></tr></tbody></table></figure>

<p>你也可以批量新增</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 表名 (字段<span class="hljs-number">1</span>, 字段<span class="hljs-number">2</span>, ..., 字段N)<br><span class="hljs-keyword">VALUES</span> <br>    (值<span class="hljs-number">1</span>_1, 值<span class="hljs-number">1</span>_2, ..., 值<span class="hljs-number">1</span>_N),<br>    (值<span class="hljs-number">2</span>_1, 值<span class="hljs-number">2</span>_2, ..., 值<span class="hljs-number">2</span>_N),<br>    ...,<br>    (值M_1, 值M_2, ..., 值M_N);<br></code></pre></td></tr></tbody></table></figure>

<h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">UPDATE</span> 表名<br><span class="hljs-keyword">SET</span> 字段<span class="hljs-number">1</span> <span class="hljs-operator">=</span> 新值<span class="hljs-number">1</span>, 字段<span class="hljs-number">2</span> <span class="hljs-operator">=</span> 新值<span class="hljs-number">2</span>, ...<br><span class="hljs-keyword">WHERE</span> 条件;<br></code></pre></td></tr></tbody></table></figure>

<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> 表名 <span class="hljs-keyword">WHERE</span> 条件;<br></code></pre></td></tr></tbody></table></figure>

<p><strong>注意：where条件查询关键字的缺失不会引发编译错误，但是增加删除修改等破坏性操作如果没有where关键字那操作对象就是整个表格，很可能会对全表格造成增删改的不可逆破坏。</strong></p>
<h3 id="数据库设计范式"><a href="#数据库设计范式" class="headerlink" title="数据库设计范式"></a>数据库设计范式</h3><h5 id="第一范式（1NF-First-Normal-Form）"><a href="#第一范式（1NF-First-Normal-Form）" class="headerlink" title="第一范式（1NF, First Normal Form）"></a>第一范式（1NF, First Normal Form）</h5><p><strong>简单来说</strong>： 每个字段只存储一项信息，每一列都是原子的，不可再分。</p>
<p><strong>例子</strong>： 假设有一个记录学生信息的表格，如果有一个字段叫做“个人信息”，里面包含了姓名、年龄和性别等多个信息，这就违反了第一范式。正确的做法是将“个人信息”这个字段拆分成姓名、年龄、性别等多个字段，每个字段只存储一项信息。</p>
<h5 id="第二范式（2NF-Second-Normal-Form）"><a href="#第二范式（2NF-Second-Normal-Form）" class="headerlink" title="第二范式（2NF, Second Normal Form）"></a>第二范式（2NF, Second Normal Form）</h5><p><strong>简单来说</strong>： 在满足第一范式的基础上，要求表格中的每一非主键字段都完全依赖于主键字段，而不能依赖于主键的一部分或是其他非主键字段。</p>
<h6 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h6><table>
<thead>
<tr>
<th><strong>学生ID</strong></th>
<th><strong>课程ID</strong></th>
<th><strong>课程名称</strong></th>
<th><strong>授课教师</strong></th>
<th><strong>学分</strong></th>
</tr>
</thead>
<tbody><tr>
<td>S001</td>
<td>C01</td>
<td>数学</td>
<td>王老师</td>
<td>3</td>
</tr>
<tr>
<td>S001</td>
<td>C02</td>
<td>英语</td>
<td>李老师</td>
<td>2</td>
</tr>
<tr>
<td>S002</td>
<td>C01</td>
<td>数学</td>
<td>王老师</td>
<td>3</td>
</tr>
</tbody></table>
<ul>
<li><strong>主键</strong>：<code>(学生ID, 课程ID)</code>（复合主键）</li>
<li><strong>问题</strong>：</li>
<li><code>课程名称</code> 和 <code>授课教师</code> 仅依赖于 <code>课程ID</code>（主键的一部分），而非完整主键。</li>
<li><code>学分</code> 也仅依赖于 <code>课程ID</code>。</li>
<li><strong>结论</strong>：存在非主属性对主键的<strong>部分依赖</strong>，满足1NF（所有列原子），但不满足2NF。</li>
</ul>
<h5 id="第三范式（3NF-Third-Normal-Form）"><a href="#第三范式（3NF-Third-Normal-Form）" class="headerlink" title="第三范式（3NF, Third Normal Form）"></a>第三范式（3NF, Third Normal Form）</h5><p><strong>简单来说</strong>： 在满足第二范式的基础上，要求表格中的每一非主键字段都直接依赖于主键字段，而不能通过其他非主键字段间接依赖于主键字段。换句话说，非主键字段之间不能有传递依赖关系。</p>
<p><strong>例子</strong>：</p>
<table>
<thead>
<tr>
<th><strong>学生ID</strong></th>
<th><strong>姓名</strong></th>
<th><strong>年龄</strong></th>
<th><strong>所在学院</strong></th>
<th><strong>学院电话</strong></th>
</tr>
</thead>
<tbody><tr>
<td>S001</td>
<td>张三</td>
<td>20</td>
<td>计算机学院</td>
<td>021-1234</td>
</tr>
<tr>
<td>S002</td>
<td>李四</td>
<td>21</td>
<td>经济管理学院</td>
<td>021-5678</td>
</tr>
</tbody></table>
<ul>
<li><strong>主键</strong>：<code>学生ID</code></li>
<li><strong>问题</strong>：</li>
<li><code>学院电话</code> 依赖于 <code>所在学院</code>，而 <code>所在学院</code> 又依赖于 <code>学生ID</code>。</li>
<li>存在非主属性 <code>学院电话</code> 对主键的<strong>传递依赖</strong>。</li>
<li><strong>结论</strong>：满足2NF（无部分依赖），但不满足3NF（存在传递依赖）。</li>
</ul>
<h5 id="反范式化（Denormalization）"><a href="#反范式化（Denormalization）" class="headerlink" title="反范式化（Denormalization）"></a><strong>反范式化（Denormalization）</strong></h5><p>话虽如此，但是在实际业务中，尤其是对查询性能要求很高的场景（如大数据分析、报表系统），<strong>有时会故意违反更高的范式，允许一定的数据冗余，这就是反范式化</strong>。这是因为范化（规范化）在减少冗余的同时，也增加了表的数量，复杂的查询可能需要关联多张表，从而<strong>降低查询速度</strong>。因此，数据库设计往往是在<strong>数据冗余</strong>和<strong>查询性能</strong>之间做出权衡。</p>
<h2 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h2><p>外键起到链接两个表的作用，简单来说，就是一个数据库表中的字段，它指向另一个表的主键。</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 子表名 (<br>    子表字段<span class="hljs-number">1</span> 数据类型 约束条件,<br>    子表字段<span class="hljs-number">2</span> 数据类型 约束条件,<br>    ...<br>    外键字段 数据类型,<br>    ...<br>    <span class="hljs-keyword">CONSTRAINT</span> 外键约束名 <span class="hljs-keyword">FOREIGN</span> KEY (外键字段) <span class="hljs-keyword">REFERENCES</span> 主表名(主表主键字段)<br>    [<span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span> ACTION <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span>]<br>    [<span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span> ACTION <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span>]<br>);<br></code></pre></td></tr></tbody></table></figure>

<p>如果表已经存在</p>
<figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 子表名<br><span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> 外键约束名 <span class="hljs-keyword">FOREIGN</span> KEY (外键字段) <span class="hljs-keyword">REFERENCES</span> 主表名(主表主键字段)<br>[<span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> CASCADE <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span> ACTION <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span>]<br>[<span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> CASCADE <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span> ACTION <span class="hljs-operator">|</span> <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span>];<br></code></pre></td></tr></tbody></table></figure>

<h4 id="关于外键的补充"><a href="#关于外键的补充" class="headerlink" title="关于外键的补充"></a>关于外键的补充</h4><h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><ol>
<li>数据完整性：</li>
</ol>
<ul>
<li>外键约束确保了子表中的外键值必须存在于父表对应的主键或唯一键中，从而避免了孤立记录的出现，维护了数据的引用完整性。</li>
</ul>
<ol start="2">
<li>级联操作：</li>
</ol>
<ul>
<li>外键可以配置为自动处理相关表中的数据更新或删除操作，如级联更新和级联删除。这有助于保持数据的一致性，并减少了手动维护数据关系的复杂性。</li>
</ul>
<ol start="3">
<li>减少应用程序代码复杂度：</li>
</ol>
<ul>
<li>通过数据库层面的约束来管理数据关系，可以减轻应用程序开发人员在业务逻辑中实现这些规则的负担，使代码更加简洁和易于维护。</li>
</ul>
<ol start="4">
<li>提高数据质量：</li>
</ol>
<ul>
<li>自动化的检查和维护有助于保持数据的准确性和一致性，减少了人为错误的可能性。</li>
</ul>
<ol start="5">
<li>索引支持：</li>
</ol>
<ul>
<li>通常情况下，外键会被自动创建索引，这不仅加速了对关联数据的查找，也提高了连接查询（JOIN）的效率。</li>
</ul>
<ol start="6">
<li>查询优化器辅助：</li>
</ol>
<ul>
<li>外键信息可以帮助数据库查询优化器更好地理解表间的关系，从而生成更高效的执行计划。</li>
</ul>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><ol>
<li>性能开销：</li>
</ol>
<ul>
<li>外键约束会增加数据库的维护成本。每次插入、更新或删除涉及外键的记录时，数据库都需要检查外键约束是否得到满足，这可能会导致额外的性能开销。在高并发或大数据量的系统中，这种性能开销可能更加明显。</li>
</ul>
<ol start="2">
<li>级联操作风险：</li>
</ol>
<ul>
<li>虽然级联操作有助于保持数据的一致性，但在某些情况下，它可能不是期望的行为。例如，删除一个记录可能会意外地删除与之相关的多个记录，导致数据丢失。</li>
</ul>
<ol start="3">
<li>增加数据库复杂性：</li>
</ol>
<ul>
<li>使用外键会增加数据库的复杂性，使得数据库结构更难理解和维护。特别是在大型系统中，多个表之间的复杂关系可能导致混淆和错误。</li>
</ul>
<ol start="4">
<li>依赖性问题：</li>
</ol>
<ul>
<li>外键创建了一种依赖性，即一个表中的数据依赖于另一个表中的数据。这种依赖性可能导致数据迁移或重构时的困难。</li>
</ul>
<ol start="5">
<li>死锁风险：</li>
</ol>
<ul>
<li>在高并发环境中，外键可能导致死锁问题。当多个事务试图同时更新涉及外键的数据时，可能会出现死锁，导致系统性能下降。</li>
</ul>
<ol start="6">
<li>灵活性限制：</li>
</ol>
<ul>
<li>使用外键可能会限制数据库结构的灵活性。例如，在分区或分表操作时，外键可能会成为一种约束，限制数据库设计的变化。</li>
</ul>
<h2 id="多表查询-x2F-连接查询"><a href="#多表查询-x2F-连接查询" class="headerlink" title="多表查询/连接查询"></a>多表查询/连接查询</h2><p>多表查询允许你一次在多张表中查询</p>
<h4 id="常见的连接"><a href="#常见的连接" class="headerlink" title="常见的连接"></a>常见的连接</h4><table>
<thead>
<tr>
<th>连接类型</th>
<th>关键词</th>
<th>数据保留方向</th>
<th>未匹配数据处理</th>
<th>SQL示例</th>
</tr>
</thead>
<tbody><tr>
<td>内连接</td>
<td>INNER JOIN</td>
<td>仅保留两个表中匹配的行</td>
<td>丢弃不匹配的行</td>
<td><code>SELECT * FROM table1 INNER JOIN table2 ON table1.id = table2.id;</code></td>
</tr>
<tr>
<td>左外连接</td>
<td>LEFT JOIN</td>
<td>保留左表所有行及与右表匹配的行</td>
<td>右表未匹配部分填充NULL</td>
<td><code>SELECT * FROM table1 LEFT JOIN table2 ON table1.id = table2.id;</code></td>
</tr>
<tr>
<td>右外连接</td>
<td>RIGHT JOIN</td>
<td>保留右表所有行及与左表匹配的行</td>
<td>左表未匹配部分填充NULL</td>
<td><code>SELECT * FROM table1 RIGHT JOIN table2 ON table1.id = table2.id;</code></td>
</tr>
<tr>
<td>全外连接</td>
<td>FULL JOIN</td>
<td>保留左表和右表中的所有行</td>
<td>未匹配部分在相应侧填充NULL</td>
<td><code>SELECT * FROM table1 FULL JOIN table2 ON table1.id = table2.id;</code>（注意：不是所有数据库都支持FULL JOIN，有些数据库使用UNION ALL结合LEFT JOIN和RIGHT JOIN来实现类似功能）</td>
</tr>
<tr>
<td>交叉连接（笛卡尔积）</td>
<td>CROSS JOIN</td>
<td>生成两个表中所有行的组合（笛卡尔积）</td>
<td>无特殊处理（所有组合均保留）</td>
<td><code>SELECT * FROM table1 CROSS JOIN table2;</code> 或简单地 <code>SELECT * FROM table1, table2;</code></td>
</tr>
</tbody></table>
<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><p>SQL是操作语言，而操作必须是原子化的，事务的作用就是保证原子化。事务是一系列数据库操作的集合，这些操作被视为一个单一的工作单元。事务中的操作要么全部执行成功，要么在遇到错误时全部撤销。</p>
<p>事务具有四个关键特性，通常称为ACID特性：</p>
<ol>
<li><strong>原子性（Atomicity）</strong>：事务中的所有操作要么全部完成，要么全部不执行。事务在执行过程中发生错误，则会回滚到事务开始前的状态。</li>
<li><strong>一致性（Consistency）</strong>：事务执行前后，数据库都必须处于一致性状态。这意味着事务执行的结果必须是有效的，符合所有定义的规则、约束和触发器。</li>
<li><strong>隔离性（Isolation）</strong>：并发执行的事务之间不会互相干扰。一个事务内部的操作对其他并发事务是不可见的，直到该事务提交。</li>
<li><strong>持久性（Durability）</strong>：一旦事务提交，它对数据库的影响是永久的，即使系统崩溃也不会丢失。</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B/" class="category-chain-item">网络工程</a>
  
  

      </span>
    
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="category-chain-item">数据库</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B/">#网络工程</a>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">#数据库</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/Lombok/" title="Lombok">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Lombok</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/Tomcat/" title="Tomcat">
                        <span class="hidden-mobile">Tomcat</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createCssLink('https://lib.baomitu.com/waline/2.5.1/waline.min.css')
      Fluid.utils.createScript('https://lib.baomitu.com/waline/2.5.1/waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://comment.willmo.top","path":"window.location.pathname","meta":["nick","mail","link"],"requiredMeta":["nick"],"lang":"zh-CN","emoji":["https://unpkg.com/@waline/emojis@1.1.0/qq"],"dark":"html[data-user-color-scheme=\"dark\"]","wordLimit":0,"pageSize":10},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        Waline.init(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          var imgSelector = '#waline .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="leancloud-site-pv-container" style="display: none">
        总访问量 
        <span id="leancloud-site-pv"></span>
         次
      </span>
    
    
      <span id="leancloud-site-uv-container" style="display: none">
        总访客数 
        <span id="leancloud-site-uv"></span>
         人
      </span>
    
    

  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>




  
<script src="/js/talks.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script>
  <link defer rel="stylesheet" href="/styles/backgroundize.css" />
  <!-- hexo injector body_end end --></body>
</html>
